# üìä –û–¢–ß–ï–¢ –ü–û –ê–ù–ê–õ–ò–ó–£ –ë–ê–ó–´ –î–ê–ù–ù–´–• SUPABASE

## ‚úÖ **–û–ë–©–ò–ô –°–¢–ê–¢–£–°**
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã**: ‚úÖ –°–æ–∑–¥–∞–Ω—ã
- **–î–∞–Ω–Ω—ã–µ**: ‚ö†Ô∏è –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

---

## üìã **–ê–ù–ê–õ–ò–ó –¢–ê–ë–õ–ò–¶**

### ‚úÖ **–†–∞–±–æ—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:**
| –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π | –°—Ç–æ–ª–±—Ü–æ–≤ | –°—Ç–∞—Ç—É—Å |
|---------|---------|----------|--------|
| `users` | 4 | 8 | ‚úÖ –•–æ—Ä–æ—à–æ |
| `events` | 1 | 12 | ‚úÖ –•–æ—Ä–æ—à–æ |
| `seats` | 2222 | 15 | ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã —Å event_id |
| `orders` | 6 | 16 | ‚úÖ –•–æ—Ä–æ—à–æ |
| `order_seats` | 6 | 6 | ‚úÖ –•–æ—Ä–æ—à–æ |
| `zone_pricing` | 13 | 6 | ‚ùå base_price = undefined |
| `zone_colors` | 13 | 6 | ‚úÖ –•–æ—Ä–æ—à–æ |

### ‚ùå **–ü—É—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
- `order_general_access` - 0 –∑–∞–ø–∏—Å–µ–π
- `payments` - 0 –∑–∞–ø–∏—Å–µ–π

---

## üö® **–í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´**

### 1. **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –≤ zone_pricing**
```sql
-- –í—Å–µ —Ü–µ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç undefined
- –ó–æ–Ω–∞ 201: undefined MDL
- –ó–æ–Ω–∞ 202: undefined MDL
...
```
**–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–ª–µ `base_price` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### 2. **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –º–µ—Å—Ç**
```
Event 550e8400, –ó–æ–Ω–∞ e29b: 129 –º–µ—Å—Ç
```
**–ü—Ä–∏—á–∏–Ω–∞**: event_id –ø–∞—Ä—Å–∏—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç e29b –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ UUID)

### 3. **–ü–†–û–ë–õ–ï–ú–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ë–î**
```
‚ùå verify_qr_code - –û—à–∏–±–∫–∞: Could not find the function
```
**–ü—Ä–∏—á–∏–Ω–∞**: –§—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –∏–ª–∏ —É–¥–∞–ª–µ–Ω—ã

### 4. **–ü–†–û–ë–õ–ï–ú–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—á–µ—Ç—á–∏–∫–∏ –≤ events**
```
–ú–µ—Å—Ç –≤—Å–µ–≥–æ: 0, –î–æ—Å—Ç—É–ø–Ω–æ: 0
```
**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –º–µ—Å—Ç**: 2222

### 5. **–û–¢–°–£–¢–°–¢–í–£–Æ–¢ –ü–õ–ê–¢–ï–ñ–ò**
- –¢–∞–±–ª–∏—Ü–∞ `payments` –ø—É—Å—Ç–∞
- –ó–∞–∫–∞–∑—ã –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ `paid`, –Ω–æ –ø–ª–∞—Ç–µ–∂–µ–π –Ω–µ—Ç

---

## üõ†Ô∏è **–ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

### 1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å zone_pricing**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã
UPDATE zone_pricing SET base_price = 1500 WHERE zone = '201';
UPDATE zone_pricing SET base_price = 1200 WHERE zone = '202';
-- ... –¥–ª—è –≤—Å–µ—Ö –∑–æ–Ω
```

### 2. **–ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—á–µ—Ç—á–∏–∫–∏ –º–µ—Å—Ç –≤ events**
```sql
UPDATE events 
SET total_seats = (SELECT COUNT(*) FROM seats WHERE event_id = events.id),
    available_seats = (SELECT COUNT(*) FROM seats WHERE event_id = events.id AND status = 'available')
WHERE id = '550e8400-e29b-41d4-a716-446655440000';
```

### 3. **–°–æ–∑–¥–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**
```sql
-- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ schema.sql
CREATE OR REPLACE FUNCTION verify_qr_code(p_qr_code TEXT) ...
CREATE OR REPLACE FUNCTION generate_order_qr_code(p_order_id UUID) ...
```

### 4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å seats <-> events**
```sql
-- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –º–µ—Å—Ç–∞ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é
SELECT DISTINCT event_id FROM seats;
```

---

## üìà **–°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–ê–ù–ù–´–•**

### **–°–æ–±—ã—Ç–∏—è:**
- 1 –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: "voiev" (31 –¥–µ–∫–∞–±—Ä—è 2024)
- –ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è: Arena

### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- 4 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ)
- –í—Å–µ —Å email –∏ –ø–æ–ª–Ω—ã–º –∏–º–µ–Ω–µ–º

### **–ó–∞–∫–∞–∑—ã:**
- 6 –∑–∞–∫–∞–∑–æ–≤, –≤—Å–µ –æ–ø–ª–∞—á–µ–Ω—ã
- –°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞: 500 MDL
- –í—Å–µ —Å–æ–∑–¥–∞–Ω—ã 1 –∞–≤–≥—É—Å—Ç–∞ 2025

### **–ú–µ—Å—Ç–∞:**
- 2222 –º–µ—Å—Ç–∞ –≤ —Å–∏—Å—Ç–µ–º–µ  
- –†–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –∑–æ–Ω–∞–º 201-213
- –°—Ç–∞—Ç—É—Å—ã: available, sold

---

## üéØ **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò**

### **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:**
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ü–µ–Ω—ã –≤ zone_pricing
2. –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—á–µ—Ç—á–∏–∫–∏ –º–µ—Å—Ç
3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ë–î

### **–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è:**
1. –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å–∏ –≤ payments –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ë–î

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ:**
1. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø—ã
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –ë–î

---

## ‚úÖ **–ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –•–û–†–û–®–û**

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î** - –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. **–°–≤—è–∑–∏** - foreign keys —Ä–∞–±–æ—Ç–∞—é—Ç
3. **–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ
4. **–ó–∞–∫–∞–∑—ã** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
5. **–ú–µ—Å—Ç–∞** - –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

---

## üìù **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò**

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω
2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ë–î  
3. –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
5. –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ 